<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üìö Ch·ªçn ngu·ªìn Manga</title>
    <link rel="stylesheet" href="/src/styles/base.css" />
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 40px;
        max-width: 600px;
        margin: auto;
      }
      h1 {
        text-align: center;
        margin-bottom: 24px;
      }
      .source-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }
      .source-btn {
        padding: 16px;
        font-size: 18px;
        border: 2px solid #444;
        border-radius: 8px;
        cursor: pointer;
        transition: 0.2s;
        background: white;
      }
      .source-btn:hover {
        background: #f0f0f0;
      }
    </style>
  </head>
  <body>
    <h1>üìö Ch·ªçn ngu·ªìn Manga</h1>

    <div id="source-list" class="source-list">
      <!-- C√°c l·ª±a ch·ªçn s·∫Ω render b·∫±ng JS -->
    </div>

    <div id="loading-overlay" class="hidden">
      <div class="loader-text">‚è≥ ƒêang t·∫£i...</div>
    </div>

    <!-- G·∫Øn script n√†y ƒë·ªÉ c√≥ window.sourceKeys -->
    <script src="/api/source-keys-inline.js"></script>

    <script type="module">
      const list = document.getElementById("source-list");

      window.sourceKeys.forEach((key) => {
        const btn = document.createElement("div");
        btn.className = "source-btn";
        btn.textContent = `üìÅ ${key}`;
        btn.onclick = () => {
          localStorage.setItem("sourceKey", key);
          window.location.href = "/select.html";
        };
        list.appendChild(btn);
      });
    </script>
  </body>
</html>
